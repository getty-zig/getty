<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>os/uefi/device_path.zig - source view</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAgklEQVR4AWMYWuD7EllJIM4G4g4g5oIJ/odhOJ8wToOxSTXgNxDHoeiBMfA4+wGShjyYOCkG/IGqWQziEzYAoUAeiF9D5U+DxEg14DRU7jWIT5IBIOdCxf+A+CQZAAoopEB7QJwBCBwHiip8UYmRdrAlDpIMgApwQZNnNii5Dq0MBgCxxycBnwEd+wAAAABJRU5ErkJggg==">
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTMgMTQwIj48ZyBmaWxsPSIjRjdBNDFEIj48Zz48cG9seWdvbiBwb2ludHM9IjQ2LDIyIDI4LDQ0IDE5LDMwIi8+PHBvbHlnb24gcG9pbnRzPSI0NiwyMiAzMywzMyAyOCw0NCAyMiw0NCAyMiw5NSAzMSw5NSAyMCwxMDAgMTIsMTE3IDAsMTE3IDAsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMzEsOTUgMTIsMTE3IDQsMTA2Ii8+PC9nPjxnPjxwb2x5Z29uIHBvaW50cz0iNTYsMjIgNjIsMzYgMzcsNDQiLz48cG9seWdvbiBwb2ludHM9IjU2LDIyIDExMSwyMiAxMTEsNDQgMzcsNDQgNTYsMzIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTE2LDk1IDk3LDExNyA5MCwxMDQiLz48cG9seWdvbiBwb2ludHM9IjExNiw5NSAxMDAsMTA0IDk3LDExNyA0MiwxMTcgNDIsOTUiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTUwLDAgNTIsMTE3IDMsMTQwIDEwMSwyMiIvPjwvZz48Zz48cG9seWdvbiBwb2ludHM9IjE0MSwyMiAxNDAsNDAgMTIyLDQ1Ii8+PHBvbHlnb24gcG9pbnRzPSIxNTMsMjIgMTUzLDExNyAxMDYsMTE3IDEyMCwxMDUgMTI1LDk1IDEzMSw5NSAxMzEsNDUgMTIyLDQ1IDEzMiwzNiAxNDEsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTI1LDk1IDEzMCwxMTAgMTA2LDExNyIvPjwvZz48L2c+PC9zdmc+">
    <style>
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.5;
      }

      pre > code {
        display: block;
        overflow: auto;
        line-height: normal;
        margin: 0em;
      }
      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #005C7A;
      }
      .tok-comment {
          color: #545454;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #005C5C;
      }
      .tok-number {
          color: #005C5C;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }
      pre {
        counter-reset: line;
      }
      pre .line:before {
        counter-increment: line;
        content: counter(line);
        display: inline-block;
        padding-right: 1em;
        width: 2em;
        text-align: right;
        color: #999;
      }
      
      .line {
        width: 100%;
        display: inline-block;
      }
      .line:target {
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
        background: #fafafa;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background:#222;
            color: #ccc;
        }
        pre > code {
            color: #ccc;
            background: #222;
            border: unset;
        }
        .line:target {
            border-top: 1px solid #444;
            border-bottom: 1px solid #444;
            background: #333;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #B1A0F8;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
      }
    </style>
</head>
<body>
<pre><code><span class="line" id="L1"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;../../std.zig&quot;</span>);</span>
<span class="line" id="L2"><span class="tok-kw">const</span> assert = std.debug.assert;</span>
<span class="line" id="L3"><span class="tok-kw">const</span> uefi = std.os.uefi;</span>
<span class="line" id="L4"><span class="tok-kw">const</span> Guid = uefi.Guid;</span>
<span class="line" id="L5"></span>
<span class="line" id="L6"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> DevicePath = <span class="tok-kw">union</span>(Type) {</span>
<span class="line" id="L7">    Hardware: Hardware,</span>
<span class="line" id="L8">    Acpi: Acpi,</span>
<span class="line" id="L9">    Messaging: Messaging,</span>
<span class="line" id="L10">    Media: Media,</span>
<span class="line" id="L11">    BiosBootSpecification: BiosBootSpecification,</span>
<span class="line" id="L12">    End: End,</span>
<span class="line" id="L13"></span>
<span class="line" id="L14">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Type = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L15">        Hardware = <span class="tok-number">0x01</span>,</span>
<span class="line" id="L16">        Acpi = <span class="tok-number">0x02</span>,</span>
<span class="line" id="L17">        Messaging = <span class="tok-number">0x03</span>,</span>
<span class="line" id="L18">        Media = <span class="tok-number">0x04</span>,</span>
<span class="line" id="L19">        BiosBootSpecification = <span class="tok-number">0x05</span>,</span>
<span class="line" id="L20">        End = <span class="tok-number">0x7f</span>,</span>
<span class="line" id="L21">        _,</span>
<span class="line" id="L22">    };</span>
<span class="line" id="L23"></span>
<span class="line" id="L24">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Hardware = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L25">        Pci: *<span class="tok-kw">const</span> PciDevicePath,</span>
<span class="line" id="L26">        PcCard: *<span class="tok-kw">const</span> PcCardDevicePath,</span>
<span class="line" id="L27">        MemoryMapped: *<span class="tok-kw">const</span> MemoryMappedDevicePath,</span>
<span class="line" id="L28">        Vendor: *<span class="tok-kw">const</span> VendorDevicePath,</span>
<span class="line" id="L29">        Controller: *<span class="tok-kw">const</span> ControllerDevicePath,</span>
<span class="line" id="L30">        Bmc: *<span class="tok-kw">const</span> BmcDevicePath,</span>
<span class="line" id="L31"></span>
<span class="line" id="L32">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L33">            Pci = <span class="tok-number">1</span>,</span>
<span class="line" id="L34">            PcCard = <span class="tok-number">2</span>,</span>
<span class="line" id="L35">            MemoryMapped = <span class="tok-number">3</span>,</span>
<span class="line" id="L36">            Vendor = <span class="tok-number">4</span>,</span>
<span class="line" id="L37">            Controller = <span class="tok-number">5</span>,</span>
<span class="line" id="L38">            Bmc = <span class="tok-number">6</span>,</span>
<span class="line" id="L39">            _,</span>
<span class="line" id="L40">        };</span>
<span class="line" id="L41"></span>
<span class="line" id="L42">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> PciDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L43">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L44">            subtype: Subtype,</span>
<span class="line" id="L45">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L46">            function: <span class="tok-type">u8</span>,</span>
<span class="line" id="L47">            device: <span class="tok-type">u8</span>,</span>
<span class="line" id="L48">        };</span>
<span class="line" id="L49"></span>
<span class="line" id="L50">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L51">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@sizeOf</span>(PciDevicePath));</span>
<span class="line" id="L52">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(PciDevicePath));</span>
<span class="line" id="L53"></span>
<span class="line" id="L54">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(PciDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L55">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(PciDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L56">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(PciDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L57">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(PciDevicePath, <span class="tok-str">&quot;function&quot;</span>));</span>
<span class="line" id="L58">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@offsetOf</span>(PciDevicePath, <span class="tok-str">&quot;device&quot;</span>));</span>
<span class="line" id="L59">        }</span>
<span class="line" id="L60"></span>
<span class="line" id="L61">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> PcCardDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L62">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L63">            subtype: Subtype,</span>
<span class="line" id="L64">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L65">            function_number: <span class="tok-type">u8</span>,</span>
<span class="line" id="L66">        };</span>
<span class="line" id="L67"></span>
<span class="line" id="L68">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L69">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@sizeOf</span>(PcCardDevicePath));</span>
<span class="line" id="L70">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(PcCardDevicePath));</span>
<span class="line" id="L71"></span>
<span class="line" id="L72">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(PcCardDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L73">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(PcCardDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L74">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(PcCardDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L75">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(PcCardDevicePath, <span class="tok-str">&quot;function_number&quot;</span>));</span>
<span class="line" id="L76">        }</span>
<span class="line" id="L77"></span>
<span class="line" id="L78">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> MemoryMappedDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L79">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L80">            subtype: Subtype,</span>
<span class="line" id="L81">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L82">            memory_type: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L83">            start_address: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L84">            end_address: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L85">        };</span>
<span class="line" id="L86"></span>
<span class="line" id="L87">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L88">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@sizeOf</span>(MemoryMappedDevicePath));</span>
<span class="line" id="L89">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(MemoryMappedDevicePath));</span>
<span class="line" id="L90"></span>
<span class="line" id="L91">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L92">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L93">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L94">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;memory_type&quot;</span>));</span>
<span class="line" id="L95">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;start_address&quot;</span>));</span>
<span class="line" id="L96">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(MemoryMappedDevicePath, <span class="tok-str">&quot;end_address&quot;</span>));</span>
<span class="line" id="L97">        }</span>
<span class="line" id="L98"></span>
<span class="line" id="L99">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> VendorDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L100">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L101">            subtype: Subtype,</span>
<span class="line" id="L102">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L103">            vendor_guid: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L104">        };</span>
<span class="line" id="L105"></span>
<span class="line" id="L106">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L107">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(VendorDevicePath));</span>
<span class="line" id="L108">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(VendorDevicePath));</span>
<span class="line" id="L109"></span>
<span class="line" id="L110">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L111">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L112">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L113">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;vendor_guid&quot;</span>));</span>
<span class="line" id="L114">        }</span>
<span class="line" id="L115"></span>
<span class="line" id="L116">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> ControllerDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L117">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L118">            subtype: Subtype,</span>
<span class="line" id="L119">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L120">            controller_number: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L121">        };</span>
<span class="line" id="L122"></span>
<span class="line" id="L123">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L124">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(ControllerDevicePath));</span>
<span class="line" id="L125">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(ControllerDevicePath));</span>
<span class="line" id="L126"></span>
<span class="line" id="L127">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(ControllerDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L128">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(ControllerDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L129">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(ControllerDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L130">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(ControllerDevicePath, <span class="tok-str">&quot;controller_number&quot;</span>));</span>
<span class="line" id="L131">        }</span>
<span class="line" id="L132"></span>
<span class="line" id="L133">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> BmcDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L134">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L135">            subtype: Subtype,</span>
<span class="line" id="L136">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L137">            interface_type: <span class="tok-type">u8</span>,</span>
<span class="line" id="L138">            base_address: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L139">        };</span>
<span class="line" id="L140"></span>
<span class="line" id="L141">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L142">            assert(<span class="tok-number">13</span> == <span class="tok-builtin">@sizeOf</span>(BmcDevicePath));</span>
<span class="line" id="L143">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(BmcDevicePath));</span>
<span class="line" id="L144"></span>
<span class="line" id="L145">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(BmcDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L146">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(BmcDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L147">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(BmcDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L148">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(BmcDevicePath, <span class="tok-str">&quot;interface_type&quot;</span>));</span>
<span class="line" id="L149">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@offsetOf</span>(BmcDevicePath, <span class="tok-str">&quot;base_address&quot;</span>));</span>
<span class="line" id="L150">        }</span>
<span class="line" id="L151">    };</span>
<span class="line" id="L152"></span>
<span class="line" id="L153">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Acpi = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L154">        Acpi: *<span class="tok-kw">const</span> BaseAcpiDevicePath,</span>
<span class="line" id="L155">        ExpandedAcpi: *<span class="tok-kw">const</span> ExpandedAcpiDevicePath,</span>
<span class="line" id="L156">        Adr: *<span class="tok-kw">const</span> AdrDevicePath,</span>
<span class="line" id="L157"></span>
<span class="line" id="L158">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L159">            Acpi = <span class="tok-number">1</span>,</span>
<span class="line" id="L160">            ExpandedAcpi = <span class="tok-number">2</span>,</span>
<span class="line" id="L161">            Adr = <span class="tok-number">3</span>,</span>
<span class="line" id="L162">            _,</span>
<span class="line" id="L163">        };</span>
<span class="line" id="L164"></span>
<span class="line" id="L165">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> BaseAcpiDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L166">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L167">            subtype: Subtype,</span>
<span class="line" id="L168">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L169">            hid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L170">            uid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L171">        };</span>
<span class="line" id="L172"></span>
<span class="line" id="L173">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L174">            assert(<span class="tok-number">12</span> == <span class="tok-builtin">@sizeOf</span>(BaseAcpiDevicePath));</span>
<span class="line" id="L175">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(BaseAcpiDevicePath));</span>
<span class="line" id="L176"></span>
<span class="line" id="L177">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(BaseAcpiDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L178">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(BaseAcpiDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L179">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(BaseAcpiDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L180">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(BaseAcpiDevicePath, <span class="tok-str">&quot;hid&quot;</span>));</span>
<span class="line" id="L181">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(BaseAcpiDevicePath, <span class="tok-str">&quot;uid&quot;</span>));</span>
<span class="line" id="L182">        }</span>
<span class="line" id="L183"></span>
<span class="line" id="L184">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> ExpandedAcpiDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L185">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L186">            subtype: Subtype,</span>
<span class="line" id="L187">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L188">            hid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L189">            uid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L190">            cid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L191">            <span class="tok-comment">// variable length u16[*:0] strings</span>
</span>
<span class="line" id="L192">            <span class="tok-comment">// hid_str, uid_str, cid_str</span>
</span>
<span class="line" id="L193">        };</span>
<span class="line" id="L194"></span>
<span class="line" id="L195">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L196">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@sizeOf</span>(ExpandedAcpiDevicePath));</span>
<span class="line" id="L197">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(ExpandedAcpiDevicePath));</span>
<span class="line" id="L198"></span>
<span class="line" id="L199">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L200">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L201">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L202">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;hid&quot;</span>));</span>
<span class="line" id="L203">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;uid&quot;</span>));</span>
<span class="line" id="L204">            assert(<span class="tok-number">12</span> == <span class="tok-builtin">@offsetOf</span>(ExpandedAcpiDevicePath, <span class="tok-str">&quot;cid&quot;</span>));</span>
<span class="line" id="L205">        }</span>
<span class="line" id="L206"></span>
<span class="line" id="L207">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> AdrDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L208">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L209">            subtype: Subtype,</span>
<span class="line" id="L210">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L211">            adr: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L212"></span>
<span class="line" id="L213">            <span class="tok-comment">// multiple adr entries can optionally follow</span>
</span>
<span class="line" id="L214">            <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">adrs</span>(self: *<span class="tok-kw">const</span> AdrDevicePath) []<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u32</span> {</span>
<span class="line" id="L215">                <span class="tok-comment">// self.length is a minimum of 8 with one adr which is size 4.</span>
</span>
<span class="line" id="L216">                <span class="tok-kw">var</span> entries = (self.length - <span class="tok-number">4</span>) / <span class="tok-builtin">@sizeOf</span>(<span class="tok-type">u32</span>);</span>
<span class="line" id="L217">                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>([*]<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u32</span>, <span class="tok-builtin">@ptrCast</span>(&amp;self.adr))[<span class="tok-number">0</span>..entries];</span>
<span class="line" id="L218">            }</span>
<span class="line" id="L219">        };</span>
<span class="line" id="L220"></span>
<span class="line" id="L221">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L222">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(AdrDevicePath));</span>
<span class="line" id="L223">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(AdrDevicePath));</span>
<span class="line" id="L224"></span>
<span class="line" id="L225">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(AdrDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L226">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(AdrDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L227">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(AdrDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L228">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(AdrDevicePath, <span class="tok-str">&quot;adr&quot;</span>));</span>
<span class="line" id="L229">        }</span>
<span class="line" id="L230">    };</span>
<span class="line" id="L231"></span>
<span class="line" id="L232">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Messaging = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L233">        Atapi: *<span class="tok-kw">const</span> AtapiDevicePath,</span>
<span class="line" id="L234">        Scsi: *<span class="tok-kw">const</span> ScsiDevicePath,</span>
<span class="line" id="L235">        FibreChannel: *<span class="tok-kw">const</span> FibreChannelDevicePath,</span>
<span class="line" id="L236">        FibreChannelEx: *<span class="tok-kw">const</span> FibreChannelExDevicePath,</span>
<span class="line" id="L237">        @&quot;1394&quot;: *<span class="tok-kw">const</span> F1394DevicePath,</span>
<span class="line" id="L238">        Usb: *<span class="tok-kw">const</span> UsbDevicePath,</span>
<span class="line" id="L239">        Sata: *<span class="tok-kw">const</span> SataDevicePath,</span>
<span class="line" id="L240">        UsbWwid: *<span class="tok-kw">const</span> UsbWwidDevicePath,</span>
<span class="line" id="L241">        Lun: *<span class="tok-kw">const</span> DeviceLogicalUnitDevicePath,</span>
<span class="line" id="L242">        UsbClass: *<span class="tok-kw">const</span> UsbClassDevicePath,</span>
<span class="line" id="L243">        I2o: *<span class="tok-kw">const</span> I2oDevicePath,</span>
<span class="line" id="L244">        MacAddress: *<span class="tok-kw">const</span> MacAddressDevicePath,</span>
<span class="line" id="L245">        Ipv4: *<span class="tok-kw">const</span> Ipv4DevicePath,</span>
<span class="line" id="L246">        Ipv6: *<span class="tok-kw">const</span> Ipv6DevicePath,</span>
<span class="line" id="L247">        Vlan: *<span class="tok-kw">const</span> VlanDevicePath,</span>
<span class="line" id="L248">        InfiniBand: *<span class="tok-kw">const</span> InfiniBandDevicePath,</span>
<span class="line" id="L249">        Uart: *<span class="tok-kw">const</span> UartDevicePath,</span>
<span class="line" id="L250">        Vendor: *<span class="tok-kw">const</span> VendorDefinedDevicePath,</span>
<span class="line" id="L251"></span>
<span class="line" id="L252">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L253">            Atapi = <span class="tok-number">1</span>,</span>
<span class="line" id="L254">            Scsi = <span class="tok-number">2</span>,</span>
<span class="line" id="L255">            FibreChannel = <span class="tok-number">3</span>,</span>
<span class="line" id="L256">            FibreChannelEx = <span class="tok-number">21</span>,</span>
<span class="line" id="L257">            @&quot;1394&quot; = <span class="tok-number">4</span>,</span>
<span class="line" id="L258">            Usb = <span class="tok-number">5</span>,</span>
<span class="line" id="L259">            Sata = <span class="tok-number">18</span>,</span>
<span class="line" id="L260">            UsbWwid = <span class="tok-number">16</span>,</span>
<span class="line" id="L261">            Lun = <span class="tok-number">17</span>,</span>
<span class="line" id="L262">            UsbClass = <span class="tok-number">15</span>,</span>
<span class="line" id="L263">            I2o = <span class="tok-number">6</span>,</span>
<span class="line" id="L264">            MacAddress = <span class="tok-number">11</span>,</span>
<span class="line" id="L265">            Ipv4 = <span class="tok-number">12</span>,</span>
<span class="line" id="L266">            Ipv6 = <span class="tok-number">13</span>,</span>
<span class="line" id="L267">            Vlan = <span class="tok-number">20</span>,</span>
<span class="line" id="L268">            InfiniBand = <span class="tok-number">9</span>,</span>
<span class="line" id="L269">            Uart = <span class="tok-number">14</span>,</span>
<span class="line" id="L270">            Vendor = <span class="tok-number">10</span>,</span>
<span class="line" id="L271">            _,</span>
<span class="line" id="L272">        };</span>
<span class="line" id="L273"></span>
<span class="line" id="L274">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> AtapiDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L275">            <span class="tok-kw">const</span> Role = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L276">                Master = <span class="tok-number">0</span>,</span>
<span class="line" id="L277">                Slave = <span class="tok-number">1</span>,</span>
<span class="line" id="L278">            };</span>
<span class="line" id="L279"></span>
<span class="line" id="L280">            <span class="tok-kw">const</span> Rank = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L281">                Primary = <span class="tok-number">0</span>,</span>
<span class="line" id="L282">                Secondary = <span class="tok-number">1</span>,</span>
<span class="line" id="L283">            };</span>
<span class="line" id="L284"></span>
<span class="line" id="L285">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L286">            subtype: Subtype,</span>
<span class="line" id="L287">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L288">            primary_secondary: Rank,</span>
<span class="line" id="L289">            slave_master: Role,</span>
<span class="line" id="L290">            logical_unit_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L291">        };</span>
<span class="line" id="L292"></span>
<span class="line" id="L293">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L294">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(AtapiDevicePath));</span>
<span class="line" id="L295">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(AtapiDevicePath));</span>
<span class="line" id="L296"></span>
<span class="line" id="L297">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L298">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L299">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L300">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;primary_secondary&quot;</span>));</span>
<span class="line" id="L301">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;slave_master&quot;</span>));</span>
<span class="line" id="L302">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(AtapiDevicePath, <span class="tok-str">&quot;logical_unit_number&quot;</span>));</span>
<span class="line" id="L303">        }</span>
<span class="line" id="L304"></span>
<span class="line" id="L305">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> ScsiDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L306">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L307">            subtype: Subtype,</span>
<span class="line" id="L308">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L309">            target_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L310">            logical_unit_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L311">        };</span>
<span class="line" id="L312"></span>
<span class="line" id="L313">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L314">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(ScsiDevicePath));</span>
<span class="line" id="L315">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(ScsiDevicePath));</span>
<span class="line" id="L316"></span>
<span class="line" id="L317">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(ScsiDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L318">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(ScsiDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L319">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(ScsiDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L320">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(ScsiDevicePath, <span class="tok-str">&quot;target_id&quot;</span>));</span>
<span class="line" id="L321">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(ScsiDevicePath, <span class="tok-str">&quot;logical_unit_number&quot;</span>));</span>
<span class="line" id="L322">        }</span>
<span class="line" id="L323"></span>
<span class="line" id="L324">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> FibreChannelDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L325">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L326">            subtype: Subtype,</span>
<span class="line" id="L327">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L328">            reserved: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L329">            world_wide_name: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L330">            logical_unit_number: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L331">        };</span>
<span class="line" id="L332"></span>
<span class="line" id="L333">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L334">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@sizeOf</span>(FibreChannelDevicePath));</span>
<span class="line" id="L335">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(FibreChannelDevicePath));</span>
<span class="line" id="L336"></span>
<span class="line" id="L337">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L338">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L339">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L340">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;reserved&quot;</span>));</span>
<span class="line" id="L341">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;world_wide_name&quot;</span>));</span>
<span class="line" id="L342">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelDevicePath, <span class="tok-str">&quot;logical_unit_number&quot;</span>));</span>
<span class="line" id="L343">        }</span>
<span class="line" id="L344"></span>
<span class="line" id="L345">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> FibreChannelExDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L346">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L347">            subtype: Subtype,</span>
<span class="line" id="L348">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L349">            reserved: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L350">            world_wide_name: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L351">            logical_unit_number: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L352">        };</span>
<span class="line" id="L353"></span>
<span class="line" id="L354">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L355">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@sizeOf</span>(FibreChannelExDevicePath));</span>
<span class="line" id="L356">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(FibreChannelExDevicePath));</span>
<span class="line" id="L357"></span>
<span class="line" id="L358">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L359">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L360">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L361">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;reserved&quot;</span>));</span>
<span class="line" id="L362">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;world_wide_name&quot;</span>));</span>
<span class="line" id="L363">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(FibreChannelExDevicePath, <span class="tok-str">&quot;logical_unit_number&quot;</span>));</span>
<span class="line" id="L364">        }</span>
<span class="line" id="L365"></span>
<span class="line" id="L366">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> F1394DevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L367">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L368">            subtype: Subtype,</span>
<span class="line" id="L369">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L370">            reserved: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L371">            guid: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L372">        };</span>
<span class="line" id="L373"></span>
<span class="line" id="L374">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L375">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@sizeOf</span>(F1394DevicePath));</span>
<span class="line" id="L376">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(F1394DevicePath));</span>
<span class="line" id="L377"></span>
<span class="line" id="L378">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(F1394DevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L379">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(F1394DevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L380">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(F1394DevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L381">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(F1394DevicePath, <span class="tok-str">&quot;reserved&quot;</span>));</span>
<span class="line" id="L382">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(F1394DevicePath, <span class="tok-str">&quot;guid&quot;</span>));</span>
<span class="line" id="L383">        }</span>
<span class="line" id="L384"></span>
<span class="line" id="L385">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> UsbDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L386">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L387">            subtype: Subtype,</span>
<span class="line" id="L388">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L389">            parent_port_number: <span class="tok-type">u8</span>,</span>
<span class="line" id="L390">            interface_number: <span class="tok-type">u8</span>,</span>
<span class="line" id="L391">        };</span>
<span class="line" id="L392"></span>
<span class="line" id="L393">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L394">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@sizeOf</span>(UsbDevicePath));</span>
<span class="line" id="L395">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(UsbDevicePath));</span>
<span class="line" id="L396"></span>
<span class="line" id="L397">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(UsbDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L398">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(UsbDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L399">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(UsbDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L400">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(UsbDevicePath, <span class="tok-str">&quot;parent_port_number&quot;</span>));</span>
<span class="line" id="L401">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@offsetOf</span>(UsbDevicePath, <span class="tok-str">&quot;interface_number&quot;</span>));</span>
<span class="line" id="L402">        }</span>
<span class="line" id="L403"></span>
<span class="line" id="L404">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> SataDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L405">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L406">            subtype: Subtype,</span>
<span class="line" id="L407">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L408">            hba_port_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L409">            port_multiplier_port_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L410">            logical_unit_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L411">        };</span>
<span class="line" id="L412"></span>
<span class="line" id="L413">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L414">            assert(<span class="tok-number">10</span> == <span class="tok-builtin">@sizeOf</span>(SataDevicePath));</span>
<span class="line" id="L415">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(SataDevicePath));</span>
<span class="line" id="L416"></span>
<span class="line" id="L417">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L418">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L419">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L420">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;hba_port_number&quot;</span>));</span>
<span class="line" id="L421">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;port_multiplier_port_number&quot;</span>));</span>
<span class="line" id="L422">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(SataDevicePath, <span class="tok-str">&quot;logical_unit_number&quot;</span>));</span>
<span class="line" id="L423">        }</span>
<span class="line" id="L424"></span>
<span class="line" id="L425">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> UsbWwidDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L426">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L427">            subtype: Subtype,</span>
<span class="line" id="L428">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L429">            interface_number: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L430">            device_vendor_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L431">            device_product_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L432"></span>
<span class="line" id="L433">            <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">serial_number</span>(self: *<span class="tok-kw">const</span> UsbWwidDevicePath) []<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u16</span> {</span>
<span class="line" id="L434">                <span class="tok-kw">var</span> serial_len = (self.length - <span class="tok-builtin">@sizeOf</span>(UsbWwidDevicePath)) / <span class="tok-builtin">@sizeOf</span>(<span class="tok-type">u16</span>);</span>
<span class="line" id="L435">                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>([*]<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u16</span>, <span class="tok-builtin">@ptrCast</span>(<span class="tok-builtin">@as</span>([*]<span class="tok-kw">const</span> <span class="tok-type">u8</span>, <span class="tok-builtin">@ptrCast</span>(self)) + <span class="tok-builtin">@sizeOf</span>(UsbWwidDevicePath)))[<span class="tok-number">0</span>..serial_len];</span>
<span class="line" id="L436">            }</span>
<span class="line" id="L437">        };</span>
<span class="line" id="L438"></span>
<span class="line" id="L439">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L440">            assert(<span class="tok-number">10</span> == <span class="tok-builtin">@sizeOf</span>(UsbWwidDevicePath));</span>
<span class="line" id="L441">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(UsbWwidDevicePath));</span>
<span class="line" id="L442"></span>
<span class="line" id="L443">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L444">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L445">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L446">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;interface_number&quot;</span>));</span>
<span class="line" id="L447">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;device_vendor_id&quot;</span>));</span>
<span class="line" id="L448">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(UsbWwidDevicePath, <span class="tok-str">&quot;device_product_id&quot;</span>));</span>
<span class="line" id="L449">        }</span>
<span class="line" id="L450"></span>
<span class="line" id="L451">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> DeviceLogicalUnitDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L452">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L453">            subtype: Subtype,</span>
<span class="line" id="L454">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L455">            lun: <span class="tok-type">u8</span>,</span>
<span class="line" id="L456">        };</span>
<span class="line" id="L457"></span>
<span class="line" id="L458">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L459">            assert(<span class="tok-number">5</span> == <span class="tok-builtin">@sizeOf</span>(DeviceLogicalUnitDevicePath));</span>
<span class="line" id="L460">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(DeviceLogicalUnitDevicePath));</span>
<span class="line" id="L461"></span>
<span class="line" id="L462">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(DeviceLogicalUnitDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L463">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(DeviceLogicalUnitDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L464">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(DeviceLogicalUnitDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L465">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(DeviceLogicalUnitDevicePath, <span class="tok-str">&quot;lun&quot;</span>));</span>
<span class="line" id="L466">        }</span>
<span class="line" id="L467"></span>
<span class="line" id="L468">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> UsbClassDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L469">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L470">            subtype: Subtype,</span>
<span class="line" id="L471">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L472">            vendor_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L473">            product_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L474">            device_class: <span class="tok-type">u8</span>,</span>
<span class="line" id="L475">            device_subclass: <span class="tok-type">u8</span>,</span>
<span class="line" id="L476">            device_protocol: <span class="tok-type">u8</span>,</span>
<span class="line" id="L477">        };</span>
<span class="line" id="L478"></span>
<span class="line" id="L479">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L480">            assert(<span class="tok-number">11</span> == <span class="tok-builtin">@sizeOf</span>(UsbClassDevicePath));</span>
<span class="line" id="L481">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(UsbClassDevicePath));</span>
<span class="line" id="L482"></span>
<span class="line" id="L483">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L484">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L485">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L486">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;vendor_id&quot;</span>));</span>
<span class="line" id="L487">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;product_id&quot;</span>));</span>
<span class="line" id="L488">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;device_class&quot;</span>));</span>
<span class="line" id="L489">            assert(<span class="tok-number">9</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;device_subclass&quot;</span>));</span>
<span class="line" id="L490">            assert(<span class="tok-number">10</span> == <span class="tok-builtin">@offsetOf</span>(UsbClassDevicePath, <span class="tok-str">&quot;device_protocol&quot;</span>));</span>
<span class="line" id="L491">        }</span>
<span class="line" id="L492"></span>
<span class="line" id="L493">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> I2oDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L494">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L495">            subtype: Subtype,</span>
<span class="line" id="L496">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L497">            tid: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L498">        };</span>
<span class="line" id="L499"></span>
<span class="line" id="L500">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L501">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(I2oDevicePath));</span>
<span class="line" id="L502">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(I2oDevicePath));</span>
<span class="line" id="L503"></span>
<span class="line" id="L504">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(I2oDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L505">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(I2oDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L506">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(I2oDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L507">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(I2oDevicePath, <span class="tok-str">&quot;tid&quot;</span>));</span>
<span class="line" id="L508">        }</span>
<span class="line" id="L509"></span>
<span class="line" id="L510">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> MacAddressDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L511">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L512">            subtype: Subtype,</span>
<span class="line" id="L513">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L514">            mac_address: uefi.MacAddress,</span>
<span class="line" id="L515">            if_type: <span class="tok-type">u8</span>,</span>
<span class="line" id="L516">        };</span>
<span class="line" id="L517"></span>
<span class="line" id="L518">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L519">            assert(<span class="tok-number">37</span> == <span class="tok-builtin">@sizeOf</span>(MacAddressDevicePath));</span>
<span class="line" id="L520">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(MacAddressDevicePath));</span>
<span class="line" id="L521"></span>
<span class="line" id="L522">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(MacAddressDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L523">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(MacAddressDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L524">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(MacAddressDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L525">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(MacAddressDevicePath, <span class="tok-str">&quot;mac_address&quot;</span>));</span>
<span class="line" id="L526">            assert(<span class="tok-number">36</span> == <span class="tok-builtin">@offsetOf</span>(MacAddressDevicePath, <span class="tok-str">&quot;if_type&quot;</span>));</span>
<span class="line" id="L527">        }</span>
<span class="line" id="L528"></span>
<span class="line" id="L529">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Ipv4DevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L530">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> IpType = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L531">                Dhcp = <span class="tok-number">0</span>,</span>
<span class="line" id="L532">                Static = <span class="tok-number">1</span>,</span>
<span class="line" id="L533">            };</span>
<span class="line" id="L534"></span>
<span class="line" id="L535">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L536">            subtype: Subtype,</span>
<span class="line" id="L537">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L538">            local_ip_address: uefi.Ipv4Address <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L539">            remote_ip_address: uefi.Ipv4Address <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L540">            local_port: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L541">            remote_port: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L542">            network_protocol: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L543">            static_ip_address: IpType,</span>
<span class="line" id="L544">            gateway_ip_address: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L545">            subnet_mask: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L546">        };</span>
<span class="line" id="L547"></span>
<span class="line" id="L548">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L549">            assert(<span class="tok-number">27</span> == <span class="tok-builtin">@sizeOf</span>(Ipv4DevicePath));</span>
<span class="line" id="L550">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(Ipv4DevicePath));</span>
<span class="line" id="L551"></span>
<span class="line" id="L552">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L553">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L554">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L555">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;local_ip_address&quot;</span>));</span>
<span class="line" id="L556">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;remote_ip_address&quot;</span>));</span>
<span class="line" id="L557">            assert(<span class="tok-number">12</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;local_port&quot;</span>));</span>
<span class="line" id="L558">            assert(<span class="tok-number">14</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;remote_port&quot;</span>));</span>
<span class="line" id="L559">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;network_protocol&quot;</span>));</span>
<span class="line" id="L560">            assert(<span class="tok-number">18</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;static_ip_address&quot;</span>));</span>
<span class="line" id="L561">            assert(<span class="tok-number">19</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;gateway_ip_address&quot;</span>));</span>
<span class="line" id="L562">            assert(<span class="tok-number">23</span> == <span class="tok-builtin">@offsetOf</span>(Ipv4DevicePath, <span class="tok-str">&quot;subnet_mask&quot;</span>));</span>
<span class="line" id="L563">        }</span>
<span class="line" id="L564"></span>
<span class="line" id="L565">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Ipv6DevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L566">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Origin = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L567">                Manual = <span class="tok-number">0</span>,</span>
<span class="line" id="L568">                AssignedStateless = <span class="tok-number">1</span>,</span>
<span class="line" id="L569">                AssignedStateful = <span class="tok-number">2</span>,</span>
<span class="line" id="L570">            };</span>
<span class="line" id="L571"></span>
<span class="line" id="L572">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L573">            subtype: Subtype,</span>
<span class="line" id="L574">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L575">            local_ip_address: uefi.Ipv6Address,</span>
<span class="line" id="L576">            remote_ip_address: uefi.Ipv6Address,</span>
<span class="line" id="L577">            local_port: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L578">            remote_port: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L579">            protocol: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L580">            ip_address_origin: Origin,</span>
<span class="line" id="L581">            prefix_length: <span class="tok-type">u8</span>,</span>
<span class="line" id="L582">            gateway_ip_address: uefi.Ipv6Address,</span>
<span class="line" id="L583">        };</span>
<span class="line" id="L584"></span>
<span class="line" id="L585">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L586">            assert(<span class="tok-number">60</span> == <span class="tok-builtin">@sizeOf</span>(Ipv6DevicePath));</span>
<span class="line" id="L587">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(Ipv6DevicePath));</span>
<span class="line" id="L588"></span>
<span class="line" id="L589">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L590">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L591">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L592">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;local_ip_address&quot;</span>));</span>
<span class="line" id="L593">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;remote_ip_address&quot;</span>));</span>
<span class="line" id="L594">            assert(<span class="tok-number">36</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;local_port&quot;</span>));</span>
<span class="line" id="L595">            assert(<span class="tok-number">38</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;remote_port&quot;</span>));</span>
<span class="line" id="L596">            assert(<span class="tok-number">40</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;protocol&quot;</span>));</span>
<span class="line" id="L597">            assert(<span class="tok-number">42</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;ip_address_origin&quot;</span>));</span>
<span class="line" id="L598">            assert(<span class="tok-number">43</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;prefix_length&quot;</span>));</span>
<span class="line" id="L599">            assert(<span class="tok-number">44</span> == <span class="tok-builtin">@offsetOf</span>(Ipv6DevicePath, <span class="tok-str">&quot;gateway_ip_address&quot;</span>));</span>
<span class="line" id="L600">        }</span>
<span class="line" id="L601"></span>
<span class="line" id="L602">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> VlanDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L603">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L604">            subtype: Subtype,</span>
<span class="line" id="L605">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L606">            vlan_id: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L607">        };</span>
<span class="line" id="L608"></span>
<span class="line" id="L609">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L610">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@sizeOf</span>(VlanDevicePath));</span>
<span class="line" id="L611">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(VlanDevicePath));</span>
<span class="line" id="L612"></span>
<span class="line" id="L613">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(VlanDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L614">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(VlanDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L615">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(VlanDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L616">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(VlanDevicePath, <span class="tok-str">&quot;vlan_id&quot;</span>));</span>
<span class="line" id="L617">        }</span>
<span class="line" id="L618"></span>
<span class="line" id="L619">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> InfiniBandDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L620">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> ResourceFlags = <span class="tok-kw">packed</span> <span class="tok-kw">struct</span>(<span class="tok-type">u32</span>) {</span>
<span class="line" id="L621">                <span class="tok-kw">pub</span> <span class="tok-kw">const</span> ControllerType = <span class="tok-kw">enum</span>(<span class="tok-type">u1</span>) {</span>
<span class="line" id="L622">                    Ioc = <span class="tok-number">0</span>,</span>
<span class="line" id="L623">                    Service = <span class="tok-number">1</span>,</span>
<span class="line" id="L624">                };</span>
<span class="line" id="L625"></span>
<span class="line" id="L626">                ioc_or_service: ControllerType,</span>
<span class="line" id="L627">                extend_boot_environment: <span class="tok-type">bool</span>,</span>
<span class="line" id="L628">                console_protocol: <span class="tok-type">bool</span>,</span>
<span class="line" id="L629">                storage_protocol: <span class="tok-type">bool</span>,</span>
<span class="line" id="L630">                network_protocol: <span class="tok-type">bool</span>,</span>
<span class="line" id="L631"></span>
<span class="line" id="L632">                <span class="tok-comment">// u1 + 4 * bool = 5 bits, we need a total of 32 bits</span>
</span>
<span class="line" id="L633">                reserved: <span class="tok-type">u27</span>,</span>
<span class="line" id="L634">            };</span>
<span class="line" id="L635"></span>
<span class="line" id="L636">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L637">            subtype: Subtype,</span>
<span class="line" id="L638">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L639">            resource_flags: ResourceFlags <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L640">            port_gid: [<span class="tok-number">16</span>]<span class="tok-type">u8</span>,</span>
<span class="line" id="L641">            service_id: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L642">            target_port_id: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L643">            device_id: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L644">        };</span>
<span class="line" id="L645"></span>
<span class="line" id="L646">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L647">            assert(<span class="tok-number">48</span> == <span class="tok-builtin">@sizeOf</span>(InfiniBandDevicePath));</span>
<span class="line" id="L648">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(InfiniBandDevicePath));</span>
<span class="line" id="L649"></span>
<span class="line" id="L650">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L651">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L652">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L653">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;resource_flags&quot;</span>));</span>
<span class="line" id="L654">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;port_gid&quot;</span>));</span>
<span class="line" id="L655">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;service_id&quot;</span>));</span>
<span class="line" id="L656">            assert(<span class="tok-number">32</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;target_port_id&quot;</span>));</span>
<span class="line" id="L657">            assert(<span class="tok-number">40</span> == <span class="tok-builtin">@offsetOf</span>(InfiniBandDevicePath, <span class="tok-str">&quot;device_id&quot;</span>));</span>
<span class="line" id="L658">        }</span>
<span class="line" id="L659"></span>
<span class="line" id="L660">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> UartDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L661">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Parity = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L662">                Default = <span class="tok-number">0</span>,</span>
<span class="line" id="L663">                None = <span class="tok-number">1</span>,</span>
<span class="line" id="L664">                Even = <span class="tok-number">2</span>,</span>
<span class="line" id="L665">                Odd = <span class="tok-number">3</span>,</span>
<span class="line" id="L666">                Mark = <span class="tok-number">4</span>,</span>
<span class="line" id="L667">                Space = <span class="tok-number">5</span>,</span>
<span class="line" id="L668">                _,</span>
<span class="line" id="L669">            };</span>
<span class="line" id="L670"></span>
<span class="line" id="L671">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> StopBits = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L672">                Default = <span class="tok-number">0</span>,</span>
<span class="line" id="L673">                One = <span class="tok-number">1</span>,</span>
<span class="line" id="L674">                OneAndAHalf = <span class="tok-number">2</span>,</span>
<span class="line" id="L675">                Two = <span class="tok-number">3</span>,</span>
<span class="line" id="L676">                _,</span>
<span class="line" id="L677">            };</span>
<span class="line" id="L678"></span>
<span class="line" id="L679">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L680">            subtype: Subtype,</span>
<span class="line" id="L681">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L682">            reserved: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L683">            baud_rate: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L684">            data_bits: <span class="tok-type">u8</span>,</span>
<span class="line" id="L685">            parity: Parity,</span>
<span class="line" id="L686">            stop_bits: StopBits,</span>
<span class="line" id="L687">        };</span>
<span class="line" id="L688"></span>
<span class="line" id="L689">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L690">            assert(<span class="tok-number">19</span> == <span class="tok-builtin">@sizeOf</span>(UartDevicePath));</span>
<span class="line" id="L691">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(UartDevicePath));</span>
<span class="line" id="L692"></span>
<span class="line" id="L693">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L694">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L695">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L696">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;reserved&quot;</span>));</span>
<span class="line" id="L697">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;baud_rate&quot;</span>));</span>
<span class="line" id="L698">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;data_bits&quot;</span>));</span>
<span class="line" id="L699">            assert(<span class="tok-number">17</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;parity&quot;</span>));</span>
<span class="line" id="L700">            assert(<span class="tok-number">18</span> == <span class="tok-builtin">@offsetOf</span>(UartDevicePath, <span class="tok-str">&quot;stop_bits&quot;</span>));</span>
<span class="line" id="L701">        }</span>
<span class="line" id="L702"></span>
<span class="line" id="L703">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> VendorDefinedDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L704">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L705">            subtype: Subtype,</span>
<span class="line" id="L706">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L707">            vendor_guid: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L708">        };</span>
<span class="line" id="L709"></span>
<span class="line" id="L710">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L711">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(VendorDefinedDevicePath));</span>
<span class="line" id="L712">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(VendorDefinedDevicePath));</span>
<span class="line" id="L713"></span>
<span class="line" id="L714">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(VendorDefinedDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L715">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(VendorDefinedDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L716">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(VendorDefinedDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L717">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(VendorDefinedDevicePath, <span class="tok-str">&quot;vendor_guid&quot;</span>));</span>
<span class="line" id="L718">        }</span>
<span class="line" id="L719">    };</span>
<span class="line" id="L720"></span>
<span class="line" id="L721">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Media = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L722">        HardDrive: *<span class="tok-kw">const</span> HardDriveDevicePath,</span>
<span class="line" id="L723">        Cdrom: *<span class="tok-kw">const</span> CdromDevicePath,</span>
<span class="line" id="L724">        Vendor: *<span class="tok-kw">const</span> VendorDevicePath,</span>
<span class="line" id="L725">        FilePath: *<span class="tok-kw">const</span> FilePathDevicePath,</span>
<span class="line" id="L726">        MediaProtocol: *<span class="tok-kw">const</span> MediaProtocolDevicePath,</span>
<span class="line" id="L727">        PiwgFirmwareFile: *<span class="tok-kw">const</span> PiwgFirmwareFileDevicePath,</span>
<span class="line" id="L728">        PiwgFirmwareVolume: *<span class="tok-kw">const</span> PiwgFirmwareVolumeDevicePath,</span>
<span class="line" id="L729">        RelativeOffsetRange: *<span class="tok-kw">const</span> RelativeOffsetRangeDevicePath,</span>
<span class="line" id="L730">        RamDisk: *<span class="tok-kw">const</span> RamDiskDevicePath,</span>
<span class="line" id="L731"></span>
<span class="line" id="L732">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L733">            HardDrive = <span class="tok-number">1</span>,</span>
<span class="line" id="L734">            Cdrom = <span class="tok-number">2</span>,</span>
<span class="line" id="L735">            Vendor = <span class="tok-number">3</span>,</span>
<span class="line" id="L736">            FilePath = <span class="tok-number">4</span>,</span>
<span class="line" id="L737">            MediaProtocol = <span class="tok-number">5</span>,</span>
<span class="line" id="L738">            PiwgFirmwareFile = <span class="tok-number">6</span>,</span>
<span class="line" id="L739">            PiwgFirmwareVolume = <span class="tok-number">7</span>,</span>
<span class="line" id="L740">            RelativeOffsetRange = <span class="tok-number">8</span>,</span>
<span class="line" id="L741">            RamDisk = <span class="tok-number">9</span>,</span>
<span class="line" id="L742">            _,</span>
<span class="line" id="L743">        };</span>
<span class="line" id="L744"></span>
<span class="line" id="L745">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> HardDriveDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L746">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Format = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L747">                LegacyMbr = <span class="tok-number">0x01</span>,</span>
<span class="line" id="L748">                GuidPartitionTable = <span class="tok-number">0x02</span>,</span>
<span class="line" id="L749">            };</span>
<span class="line" id="L750"></span>
<span class="line" id="L751">            <span class="tok-kw">pub</span> <span class="tok-kw">const</span> SignatureType = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L752">                NoSignature = <span class="tok-number">0x00</span>,</span>
<span class="line" id="L753">                <span class="tok-comment">/// &quot;32-bit signature from address 0x1b8 of the type 0x01 MBR&quot;</span></span>
<span class="line" id="L754">                MbrSignature = <span class="tok-number">0x01</span>,</span>
<span class="line" id="L755">                GuidSignature = <span class="tok-number">0x02</span>,</span>
<span class="line" id="L756">            };</span>
<span class="line" id="L757"></span>
<span class="line" id="L758">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L759">            subtype: Subtype,</span>
<span class="line" id="L760">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L761">            partition_number: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L762">            partition_start: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L763">            partition_size: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L764">            partition_signature: [<span class="tok-number">16</span>]<span class="tok-type">u8</span>,</span>
<span class="line" id="L765">            partition_format: Format,</span>
<span class="line" id="L766">            signature_type: SignatureType,</span>
<span class="line" id="L767">        };</span>
<span class="line" id="L768"></span>
<span class="line" id="L769">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L770">            assert(<span class="tok-number">42</span> == <span class="tok-builtin">@sizeOf</span>(HardDriveDevicePath));</span>
<span class="line" id="L771">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(HardDriveDevicePath));</span>
<span class="line" id="L772"></span>
<span class="line" id="L773">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L774">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L775">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L776">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;partition_number&quot;</span>));</span>
<span class="line" id="L777">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;partition_start&quot;</span>));</span>
<span class="line" id="L778">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;partition_size&quot;</span>));</span>
<span class="line" id="L779">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;partition_signature&quot;</span>));</span>
<span class="line" id="L780">            assert(<span class="tok-number">40</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;partition_format&quot;</span>));</span>
<span class="line" id="L781">            assert(<span class="tok-number">41</span> == <span class="tok-builtin">@offsetOf</span>(HardDriveDevicePath, <span class="tok-str">&quot;signature_type&quot;</span>));</span>
<span class="line" id="L782">        }</span>
<span class="line" id="L783"></span>
<span class="line" id="L784">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> CdromDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L785">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L786">            subtype: Subtype,</span>
<span class="line" id="L787">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L788">            boot_entry: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L789">            partition_start: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L790">            partition_size: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L791">        };</span>
<span class="line" id="L792"></span>
<span class="line" id="L793">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L794">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@sizeOf</span>(CdromDevicePath));</span>
<span class="line" id="L795">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(CdromDevicePath));</span>
<span class="line" id="L796"></span>
<span class="line" id="L797">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L798">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L799">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L800">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;boot_entry&quot;</span>));</span>
<span class="line" id="L801">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;partition_start&quot;</span>));</span>
<span class="line" id="L802">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(CdromDevicePath, <span class="tok-str">&quot;partition_size&quot;</span>));</span>
<span class="line" id="L803">        }</span>
<span class="line" id="L804"></span>
<span class="line" id="L805">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> VendorDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L806">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L807">            subtype: Subtype,</span>
<span class="line" id="L808">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L809">            guid: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L810">        };</span>
<span class="line" id="L811"></span>
<span class="line" id="L812">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L813">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(VendorDevicePath));</span>
<span class="line" id="L814">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(VendorDevicePath));</span>
<span class="line" id="L815"></span>
<span class="line" id="L816">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L817">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L818">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L819">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(VendorDevicePath, <span class="tok-str">&quot;guid&quot;</span>));</span>
<span class="line" id="L820">        }</span>
<span class="line" id="L821"></span>
<span class="line" id="L822">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> FilePathDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L823">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L824">            subtype: Subtype,</span>
<span class="line" id="L825">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L826"></span>
<span class="line" id="L827">            <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">getPath</span>(self: *<span class="tok-kw">const</span> FilePathDevicePath) [*:<span class="tok-number">0</span>]<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u16</span> {</span>
<span class="line" id="L828">                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>([*:<span class="tok-number">0</span>]<span class="tok-kw">align</span>(<span class="tok-number">1</span>) <span class="tok-kw">const</span> <span class="tok-type">u16</span>, <span class="tok-builtin">@ptrCast</span>(<span class="tok-builtin">@as</span>([*]<span class="tok-kw">const</span> <span class="tok-type">u8</span>, <span class="tok-builtin">@ptrCast</span>(self)) + <span class="tok-builtin">@sizeOf</span>(FilePathDevicePath)));</span>
<span class="line" id="L829">            }</span>
<span class="line" id="L830">        };</span>
<span class="line" id="L831"></span>
<span class="line" id="L832">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L833">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@sizeOf</span>(FilePathDevicePath));</span>
<span class="line" id="L834">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(FilePathDevicePath));</span>
<span class="line" id="L835"></span>
<span class="line" id="L836">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(FilePathDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L837">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(FilePathDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L838">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(FilePathDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L839">        }</span>
<span class="line" id="L840"></span>
<span class="line" id="L841">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> MediaProtocolDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L842">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L843">            subtype: Subtype,</span>
<span class="line" id="L844">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L845">            guid: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L846">        };</span>
<span class="line" id="L847"></span>
<span class="line" id="L848">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L849">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(MediaProtocolDevicePath));</span>
<span class="line" id="L850">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(MediaProtocolDevicePath));</span>
<span class="line" id="L851"></span>
<span class="line" id="L852">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(MediaProtocolDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L853">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(MediaProtocolDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L854">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(MediaProtocolDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L855">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(MediaProtocolDevicePath, <span class="tok-str">&quot;guid&quot;</span>));</span>
<span class="line" id="L856">        }</span>
<span class="line" id="L857"></span>
<span class="line" id="L858">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> PiwgFirmwareFileDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L859">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L860">            subtype: Subtype,</span>
<span class="line" id="L861">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L862">            fv_filename: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L863">        };</span>
<span class="line" id="L864"></span>
<span class="line" id="L865">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L866">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(PiwgFirmwareFileDevicePath));</span>
<span class="line" id="L867">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(PiwgFirmwareFileDevicePath));</span>
<span class="line" id="L868"></span>
<span class="line" id="L869">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareFileDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L870">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareFileDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L871">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareFileDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L872">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareFileDevicePath, <span class="tok-str">&quot;fv_filename&quot;</span>));</span>
<span class="line" id="L873">        }</span>
<span class="line" id="L874"></span>
<span class="line" id="L875">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> PiwgFirmwareVolumeDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L876">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L877">            subtype: Subtype,</span>
<span class="line" id="L878">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L879">            fv_name: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L880">        };</span>
<span class="line" id="L881"></span>
<span class="line" id="L882">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L883">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@sizeOf</span>(PiwgFirmwareVolumeDevicePath));</span>
<span class="line" id="L884">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(PiwgFirmwareVolumeDevicePath));</span>
<span class="line" id="L885"></span>
<span class="line" id="L886">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareVolumeDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L887">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareVolumeDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L888">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareVolumeDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L889">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(PiwgFirmwareVolumeDevicePath, <span class="tok-str">&quot;fv_name&quot;</span>));</span>
<span class="line" id="L890">        }</span>
<span class="line" id="L891"></span>
<span class="line" id="L892">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> RelativeOffsetRangeDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L893">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L894">            subtype: Subtype,</span>
<span class="line" id="L895">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L896">            reserved: <span class="tok-type">u32</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L897">            start: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L898">            end: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L899">        };</span>
<span class="line" id="L900"></span>
<span class="line" id="L901">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L902">            assert(<span class="tok-number">24</span> == <span class="tok-builtin">@sizeOf</span>(RelativeOffsetRangeDevicePath));</span>
<span class="line" id="L903">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(RelativeOffsetRangeDevicePath));</span>
<span class="line" id="L904"></span>
<span class="line" id="L905">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L906">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L907">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L908">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;reserved&quot;</span>));</span>
<span class="line" id="L909">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;start&quot;</span>));</span>
<span class="line" id="L910">            assert(<span class="tok-number">16</span> == <span class="tok-builtin">@offsetOf</span>(RelativeOffsetRangeDevicePath, <span class="tok-str">&quot;end&quot;</span>));</span>
<span class="line" id="L911">        }</span>
<span class="line" id="L912"></span>
<span class="line" id="L913">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> RamDiskDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L914">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L915">            subtype: Subtype,</span>
<span class="line" id="L916">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L917">            start: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L918">            end: <span class="tok-type">u64</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L919">            disk_type: Guid <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L920">            instance: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L921">        };</span>
<span class="line" id="L922"></span>
<span class="line" id="L923">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L924">            assert(<span class="tok-number">38</span> == <span class="tok-builtin">@sizeOf</span>(RamDiskDevicePath));</span>
<span class="line" id="L925">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(RamDiskDevicePath));</span>
<span class="line" id="L926"></span>
<span class="line" id="L927">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L928">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L929">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L930">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;start&quot;</span>));</span>
<span class="line" id="L931">            assert(<span class="tok-number">12</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;end&quot;</span>));</span>
<span class="line" id="L932">            assert(<span class="tok-number">20</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;disk_type&quot;</span>));</span>
<span class="line" id="L933">            assert(<span class="tok-number">36</span> == <span class="tok-builtin">@offsetOf</span>(RamDiskDevicePath, <span class="tok-str">&quot;instance&quot;</span>));</span>
<span class="line" id="L934">        }</span>
<span class="line" id="L935">    };</span>
<span class="line" id="L936"></span>
<span class="line" id="L937">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> BiosBootSpecification = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L938">        BBS101: *<span class="tok-kw">const</span> BBS101DevicePath,</span>
<span class="line" id="L939"></span>
<span class="line" id="L940">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L941">            BBS101 = <span class="tok-number">1</span>,</span>
<span class="line" id="L942">            _,</span>
<span class="line" id="L943">        };</span>
<span class="line" id="L944"></span>
<span class="line" id="L945">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> BBS101DevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L946">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L947">            subtype: Subtype,</span>
<span class="line" id="L948">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L949">            device_type: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L950">            status_flag: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L951"></span>
<span class="line" id="L952">            <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">getDescription</span>(self: *<span class="tok-kw">const</span> BBS101DevicePath) [*:<span class="tok-number">0</span>]<span class="tok-kw">const</span> <span class="tok-type">u8</span> {</span>
<span class="line" id="L953">                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>([*:<span class="tok-number">0</span>]<span class="tok-kw">const</span> <span class="tok-type">u8</span>, <span class="tok-builtin">@ptrCast</span>(self)) + <span class="tok-builtin">@sizeOf</span>(BBS101DevicePath);</span>
<span class="line" id="L954">            }</span>
<span class="line" id="L955">        };</span>
<span class="line" id="L956"></span>
<span class="line" id="L957">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L958">            assert(<span class="tok-number">8</span> == <span class="tok-builtin">@sizeOf</span>(BBS101DevicePath));</span>
<span class="line" id="L959">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(BBS101DevicePath));</span>
<span class="line" id="L960"></span>
<span class="line" id="L961">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(BBS101DevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L962">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(BBS101DevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L963">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(BBS101DevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L964">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@offsetOf</span>(BBS101DevicePath, <span class="tok-str">&quot;device_type&quot;</span>));</span>
<span class="line" id="L965">            assert(<span class="tok-number">6</span> == <span class="tok-builtin">@offsetOf</span>(BBS101DevicePath, <span class="tok-str">&quot;status_flag&quot;</span>));</span>
<span class="line" id="L966">        }</span>
<span class="line" id="L967">    };</span>
<span class="line" id="L968"></span>
<span class="line" id="L969">    <span class="tok-kw">pub</span> <span class="tok-kw">const</span> End = <span class="tok-kw">union</span>(Subtype) {</span>
<span class="line" id="L970">        EndEntire: *<span class="tok-kw">const</span> EndEntireDevicePath,</span>
<span class="line" id="L971">        EndThisInstance: *<span class="tok-kw">const</span> EndThisInstanceDevicePath,</span>
<span class="line" id="L972"></span>
<span class="line" id="L973">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> Subtype = <span class="tok-kw">enum</span>(<span class="tok-type">u8</span>) {</span>
<span class="line" id="L974">            EndEntire = <span class="tok-number">0xff</span>,</span>
<span class="line" id="L975">            EndThisInstance = <span class="tok-number">0x01</span>,</span>
<span class="line" id="L976">            _,</span>
<span class="line" id="L977">        };</span>
<span class="line" id="L978"></span>
<span class="line" id="L979">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> EndEntireDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L980">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L981">            subtype: Subtype,</span>
<span class="line" id="L982">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L983">        };</span>
<span class="line" id="L984"></span>
<span class="line" id="L985">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L986">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@sizeOf</span>(EndEntireDevicePath));</span>
<span class="line" id="L987">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(EndEntireDevicePath));</span>
<span class="line" id="L988"></span>
<span class="line" id="L989">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L990">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L991">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L992">        }</span>
<span class="line" id="L993"></span>
<span class="line" id="L994">        <span class="tok-kw">pub</span> <span class="tok-kw">const</span> EndThisInstanceDevicePath = <span class="tok-kw">extern</span> <span class="tok-kw">struct</span> {</span>
<span class="line" id="L995">            <span class="tok-type">type</span>: DevicePath.Type,</span>
<span class="line" id="L996">            subtype: Subtype,</span>
<span class="line" id="L997">            length: <span class="tok-type">u16</span> <span class="tok-kw">align</span>(<span class="tok-number">1</span>),</span>
<span class="line" id="L998">        };</span>
<span class="line" id="L999"></span>
<span class="line" id="L1000">        <span class="tok-kw">comptime</span> {</span>
<span class="line" id="L1001">            assert(<span class="tok-number">4</span> == <span class="tok-builtin">@sizeOf</span>(EndEntireDevicePath));</span>
<span class="line" id="L1002">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@alignOf</span>(EndEntireDevicePath));</span>
<span class="line" id="L1003"></span>
<span class="line" id="L1004">            assert(<span class="tok-number">0</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;type&quot;</span>));</span>
<span class="line" id="L1005">            assert(<span class="tok-number">1</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;subtype&quot;</span>));</span>
<span class="line" id="L1006">            assert(<span class="tok-number">2</span> == <span class="tok-builtin">@offsetOf</span>(EndEntireDevicePath, <span class="tok-str">&quot;length&quot;</span>));</span>
<span class="line" id="L1007">        }</span>
<span class="line" id="L1008">    };</span>
<span class="line" id="L1009">};</span>
<span class="line" id="L1010"></span>
</code></pre></body>
</html>